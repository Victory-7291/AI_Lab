

# 进阶关卡——第2关作业

    
## 任务1：
### 使用 Lagent 复现文档中 “制作一个属于自己的Agent” 和 “Multi-Agents博客写作系统的搭建”两部分内容，记录复现过程并截图。


使用和风天气服务获取他们的api_key并添加到环境变量，创建lagent中新的action用于查询天气信息，然后在_init_.py中初始化WeatherQuery方法：
  
![erro](https://github.com/Victory-7291/AI_Lab/raw/main/images/2024-12-12%2014-13-46.png "2024-11-20%2010-52-40.png")

  
-------------------------------------------------------------------------------------------------------------------

  
在demo.py中引入WeatherQuery方法，在插件初始化列表中添加WeatherQuery

  
![erro](https://github.com/Victory-7291/AI_Lab/raw/main/images/2024-12-12%2014-15-42.png "2024-11-20%2016-23-28.png")

  
-------------------------------------------------------------------------------------------------------------------


运行demo：

  
![erro](https://github.com/Victory-7291/AI_Lab/raw/main/images/2024-12-12%2014-20-40.png "2024-11-20%2021-42-15.png")

  
-------------------------------------------------------------------------------------------------------------------


创建multi_agents_api_web_demo.py：

  
![erro](https://github.com/Victory-7291/AI_Lab/raw/main/images/2024-12-12%2014-29-51.png "2024-11-20%2021-42-31.png")

  
-------------------------------------------------------------------------------------------------------------------


运行博客优化助手：

  
![erro](https://github.com/Victory-7291/AI_Lab/raw/main/images/2024-12-15%2017-46-04.png "2024-11-20%2021-43-08.png")

  
-------------------------------------------------------------------------------------------------------------------


### 将Agent应用部署到huggingface space上


把含有weathersearch插件的lagent，app.py，requirements,requirements.txt复制到仓库中，然后push到space中
![erro](https://github.com/Victory-7291/AI_Lab/raw/main/images/2024-12-24%2020-22-36.png "2024-11-20%2016-23-28.png")

  
-------------------------------------------------------------------------------------------------------------------


space在building的时候报错找不到requirements/optional.txt和requirements/runtime.txt,可能是因为space和开发机的路径不同
  
![erro](https://github.com/Victory-7291/AI_Lab/raw/main/images/2024-12-24%2020-32-16.png "2024-11-20%2021-42-15.png")

  
-------------------------------------------------------------------------------------------------------------------


修改requirements.txt为如下：

  
![erro](https://github.com/Victory-7291/AI_Lab/raw/main/images/2024-12-24%2020-32-07.png "2024-11-20%2021-42-31.png")

  
-------------------------------------------------------------------------------------------------------------------


在space中运行成功：

  
![erro](https://github.com/Victory-7291/AI_Lab/raw/main/images/2024-12-24%2020-31-41.png "2024-11-20%2021-43-08.png")

  
-------------------------------------------------------------------------------------------------------------------

